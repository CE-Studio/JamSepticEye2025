[gd_scene load_steps=32 format=3 uid="uid://bsilcivtlmmcu"]

[ext_resource type="Material" uid="uid://dl7fbxot1sjwy" path="res://textures/mat/floor.tres" id="1_dnkej"]
[ext_resource type="PackedScene" uid="uid://bbv4l13q3bvuv" path="res://parts/player.tscn" id="1_ksju7"]
[ext_resource type="PackedScene" uid="uid://pr1y0ym28d45" path="res://parts/pause.tscn" id="2_6iamk"]
[ext_resource type="PackedScene" uid="uid://bqa6ipcu8tjv3" path="res://scenes/ui.tscn" id="2_6761a"]
[ext_resource type="Material" uid="uid://bywjyggux4ylf" path="res://textures/mat/wall1.tres" id="2_mm8aj"]
[ext_resource type="PackedScene" uid="uid://deb6pjoy65r7i" path="res://parts/push_box.tscn" id="3_nsrm0"]
[ext_resource type="Material" uid="uid://cxhfxnk1s24tq" path="res://textures/mat/wall2.tres" id="3_wtwp4"]
[ext_resource type="Material" uid="uid://4727m3inrkcd" path="res://textures/mat/ceil.tres" id="4_iwr0g"]
[ext_resource type="PackedScene" uid="uid://c483fpshkfy18" path="res://parts/death_plane.tscn" id="4_oc4kc"]
[ext_resource type="Environment" uid="uid://bh0ehhyvsaw3b" path="res://resources/enviro.tres" id="4_sk5k4"]
[ext_resource type="PackedScene" uid="uid://dps4pqkb56mxr" path="res://scenes/transition_trigger.tscn" id="4_x42e6"]
[ext_resource type="PackedScene" uid="uid://06mqlf4bidrk" path="res://parts/ctrl_popup.tscn" id="8_s8va5"]
[ext_resource type="PackedScene" uid="uid://bhwyn1cfs5vly" path="res://parts/elevator.tscn" id="13_bahl2"]
[ext_resource type="PackedScene" uid="uid://bphb32pm8vlsr" path="res://parts/signpanel.tscn" id="14_wtwp4"]
[ext_resource type="PackedScene" uid="uid://chwwd25ppdp6e" path="res://parts/portalpanel.tscn" id="15_iwr0g"]
[ext_resource type="PackedScene" uid="uid://1klio28htdt1" path="res://models/shittyTV.blend" id="17_mkypq"]
[ext_resource type="PackedScene" uid="uid://dywd8de8obr3m" path="res://parts/GLeNN_set.tscn" id="17_np2pn"]
[ext_resource type="Texture2D" uid="uid://clfhq27q5rfht" path="res://textures/TVbodyTexture.png" id="18_ndtll"]
[ext_resource type="Material" uid="uid://opt20r3lh406" path="res://textures/mat/metal1.tres" id="19_7h2jl"]
[ext_resource type="Texture2D" uid="uid://bjyrnpr2ly8ss" path="res://textures/TVplugTexture.png" id="20_mqh5v"]
[ext_resource type="Material" uid="uid://d36wg05jdnij" path="res://textures/mat/darkgreyplastic.tres" id="21_7o3do"]
[ext_resource type="Script" uid="uid://bp6vojp8kqeec" path="res://scripts/trigger_animation_player.gd" id="22_ndtll"]
[ext_resource type="Script" uid="uid://bcn8oydqfqle2" path="res://scripts/trigger.gd" id="23_7h2jl"]

[sub_resource type="GDScript" id="GDScript_y6ejk"]
script/source = "extends Node3D


@export var screen:BaseMaterial3D


func _ready() -> void:
	$shittyTV/Plane.material_override = screen
"

[sub_resource type="ViewportTexture" id="ViewportTexture_o7j4k"]
viewport_path = NodePath("GLeNNSet")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_31oqk"]
resource_local_to_scene = true
albedo_texture = SubResource("ViewportTexture_o7j4k")
emission_enabled = true
emission_texture = SubResource("ViewportTexture_o7j4k")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_22t7c"]
albedo_texture = ExtResource("18_ndtll")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_yi2he"]
albedo_texture = ExtResource("20_mqh5v")

[sub_resource type="Animation" id="Animation_7h2jl"]
resource_name = "speak"
step = 0.1
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("GLeNNSet/AnimationPlayer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"values": [{
"args": [false],
"method": &"stop"
}, {
"args": [&"idle", -1, 1.0, false],
"method": &"play"
}]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("elevator")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(1),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"connectionOn"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_mqh5v"]
_data = {
&"speak": SubResource("Animation_7h2jl")
}

[sub_resource type="BoxShape3D" id="BoxShape3D_mqh5v"]
size = Vector3(5.5583496, 3.1611328, 6.932617)

[node name="Level1" type="Node3D"]

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="."]
use_collision = true

[node name="CSGBox3D" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, -0.5, 0)
size = Vector3(24, 1, 16)
material = ExtResource("1_dnkej")

[node name="CSGBox3D2" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7, 2.5, 0)
size = Vector3(2, 3, 16)
material = ExtResource("2_mm8aj")

[node name="CSGBox3D3" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 2.5, 6)
size = Vector3(22, 3, 4)
material = ExtResource("2_mm8aj")

[node name="CSGBox3D4" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 2.5, -7)
size = Vector3(22, 3, 2)
material = ExtResource("2_mm8aj")

[node name="CSGBox3D5" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4, 2.5, -4.5)
size = Vector3(4, 3, 3)
material = ExtResource("2_mm8aj")

[node name="CSGBox3D6" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12, 2.5, 2.5)
size = Vector3(8, 3, 3)
material = ExtResource("2_mm8aj")

[node name="CSGBox3D7" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7, 0.5, 0)
size = Vector3(2, 1, 16)
material = ExtResource("3_wtwp4")

[node name="CSGBox3D8" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 0.5, 6)
size = Vector3(22, 1, 4)
material = ExtResource("3_wtwp4")

[node name="CSGBox3D9" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 0.5, -7)
size = Vector3(22, 1, 2)
material = ExtResource("3_wtwp4")

[node name="CSGBox3D12" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4, 0.5, -4.5)
size = Vector3(4, 1, 3)
material = ExtResource("3_wtwp4")

[node name="CSGBox3D13" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12, 0.5, 2.5)
size = Vector3(8, 1, 3)
material = ExtResource("3_wtwp4")

[node name="CSGBox3D10" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 4.25, 0)
size = Vector3(24, 0.5, 16)
material = ExtResource("4_iwr0g")

[node name="CSGBox3D11" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 15, 3.75, 0)
size = Vector3(2, 1.5, 16)
material = ExtResource("2_mm8aj")

[node name="player" parent="." instance=ExtResource("1_ksju7")]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -3.6772957, 0.69835544, 0.2542715)

[node name="UI" parent="." instance=ExtResource("2_6761a")]

[node name="Pause" parent="." instance=ExtResource("2_6iamk")]

[node name="DeathPlane" parent="." instance=ExtResource("4_oc4kc")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -12, 0)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("4_sk5k4")

[node name="OmniLight3D" type="OmniLight3D" parent="WorldEnvironment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4, 0)
shadow_enabled = true
omni_range = 10.0

[node name="OmniLight3D2" type="OmniLight3D" parent="WorldEnvironment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 11, 4, -3)
shadow_enabled = true
omni_range = 10.0

[node name="PushBox" parent="." instance=ExtResource("3_nsrm0")]
transform = Transform3D(0.96388656, 0, -0.26631323, 0, 1, 0, 0.26631323, 0, 0.96388656, -0.7955721, 0.504971, -4.4693155)

[node name="PushBox2" parent="." instance=ExtResource("3_nsrm0")]
transform = Transform3D(0.91310483, 0, 0.40772498, 0, 1, 0, -0.40772498, 0, 0.91310483, 0.66836077, 0.504971, -4.092279)

[node name="PushBox3" parent="." instance=ExtResource("3_nsrm0")]
transform = Transform3D(-0.10723588, 0, 0.9942336, 0, 1, 0, -0.9942336, 0, -0.10723588, 0.28711885, 0.504971, -5.290106)

[node name="PushBox4" parent="." instance=ExtResource("3_nsrm0")]
transform = Transform3D(-0.32428068, 0, 0.9459609, 0, 1, 0, -0.9459609, 0, -0.32428068, 3.3986278, 0.504971, -4.459453)

[node name="PushBox6" parent="." instance=ExtResource("3_nsrm0")]
transform = Transform3D(-0.85974526, 0, 0.510723, 0, 1, 0, -0.510723, 0, -0.85974526, 6.9387183, 0.504971, 2.8090405)

[node name="PushBox5" parent="." instance=ExtResource("3_nsrm0")]
transform = Transform3D(0.9999573, 0, 0.0092327595, 0, 1, 0, -0.0092327595, 0, 0.9999573, -0.05599904, 1.504971, -4.565145)

[node name="TransitionTrigger" parent="." instance=ExtResource("4_x42e6")]
transform = Transform3D(5, 0, 0, 0, 5, 0, 0, 0, 5, 18.467152, 7.655714, -3.332943)
target_scene = "res://scenes/levels/level_2.tscn"

[node name="CtrlPopup" parent="." instance=ExtResource("8_s8va5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
texture = "res://textures/CtrlPopups/Move.png"
delay = 1.0

[node name="elevator" parent="." instance=ExtResource("13_bahl2")]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, 19, 0, -3)

[node name="Signpanel" parent="." instance=ExtResource("14_wtwp4")]
transform = Transform3D(-1.1313341e-08, 0.9659258, 0.25881907, 4.222196e-08, 0.25881907, -0.9659258, -1, 0, -4.371139e-08, -5.7033377, 0.9755938, 2.5672617)

[node name="Portalpanel" parent="." instance=ExtResource("15_iwr0g")]
transform = Transform3D(-5.373266e-09, 0.99241585, 0.12292601, 4.3379874e-08, 0.12292601, -0.99241585, -1, 0, -4.371139e-08, -5.896328, 0.5080849, 1.1745068)

[node name="GLeNNSet" parent="." instance=ExtResource("17_np2pn")]

[node name="Node3D" parent="GLeNNSet" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -17.529106)

[node name="Cube_002" parent="GLeNNSet/Node3D/GLeNN/Cube/Cylinder/Cube_001" index="0"]
transform = Transform3D(1, 0, 0, 0, 0.6259641, 0.7798516, 0, -0.7798516, 0.6259641, 0, 0.9200001, 0.05000013)

[node name="Tv" type="Node3D" parent="."]
transform = Transform3D(-1, 0, 8.742278e-08, 0, 1, 0, -8.742278e-08, 0, -1, 10.6, 2.3, -5.7)
script = SubResource("GDScript_y6ejk")
screen = SubResource("StandardMaterial3D_31oqk")

[node name="shittyTV" parent="Tv" instance=ExtResource("17_mkypq")]
transform = Transform3D(3, 0, 0, 0, 3, 0, 0, 0, 3, 0, 0, 0)

[node name="Cube_001" parent="Tv/shittyTV" index="0"]
material_override = SubResource("StandardMaterial3D_22t7c")

[node name="Cylinder" parent="Tv/shittyTV" index="1"]
material_override = ExtResource("19_7h2jl")

[node name="Cube" parent="Tv/shittyTV" index="2"]
material_override = ExtResource("19_7h2jl")

[node name="Cube_002" parent="Tv/shittyTV" index="3"]
material_override = ExtResource("19_7h2jl")

[node name="Cube_003" parent="Tv/shittyTV" index="4"]
material_override = ExtResource("19_7h2jl")

[node name="Cube_004" parent="Tv/shittyTV" index="5"]
material_override = SubResource("StandardMaterial3D_yi2he")

[node name="BezierCurve" parent="Tv/shittyTV" index="6"]
material_override = ExtResource("21_7o3do")

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="Tv"]

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_mqh5v")
}
script = ExtResource("22_ndtll")
to_play = &"speak"

[node name="Trigger" type="Area3D" parent="." node_paths=PackedStringArray("connections")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.174683, 1.8596697, -2.5106926)
script = ExtResource("23_7h2jl")
connections = [NodePath("../AnimationPlayer")]
metadata/_custom_type_script = "uid://bcn8oydqfqle2"

[node name="CollisionShape3D" type="CollisionShape3D" parent="Trigger"]
shape = SubResource("BoxShape3D_mqh5v")

[editable path="GLeNNSet"]
[editable path="GLeNNSet/Node3D/GLeNN"]
[editable path="Tv/shittyTV"]
